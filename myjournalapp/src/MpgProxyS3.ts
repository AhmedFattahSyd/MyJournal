////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Mpg S3 Proxy module
////////////////////////////////////////////////////////////////////////////////////////////////////////////////
import AWS from "aws-sdk"
////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// MpgS3 class
////////////////////////////////////////////////////////////////////////////////////////////////////////////////
export default class MpgS3Proxy {
    private userName = ''
    private s3 = new AWS.S3()
  constructor(userName: string) {
      this.userName = userName
  }
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // create bucket
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  createBucket = async () =>{
    try{
        var params = {
            Bucket: this.userName+"Mpg030Data", 
            CreateBucketConfiguration: {
             LocationConstraint: "ap-southeast-2"
            }
           }
        const response = await this.s3.createBucket(params)
        console.log('MpgS3: createBucket: success. Response: ',response);
    }catch(error){
        console.log('MpgS3: createBucket: error. Error: ',error);
        throw(error)
    }
  }
}
